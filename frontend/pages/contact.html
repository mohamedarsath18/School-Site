<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us | School Name</title>
    <link rel="stylesheet" href="../assets/styles/main.css">
    <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css">
</head>
<body>
    <div id="navbar"></div> 

    <section class="contact-header">
        <h1 data-aos="fade-down">Get in Touch</h1>
        <p data-aos="fade-up">We'd love to hear from you! Reach out to us for any inquiries.</p>
    </section>

    <section class="contact-section">
        <div class="contact-info" data-aos="fade-right">
            <h2>Contact Details</h2>
            <p><strong>ğŸ“ Address:</strong> 123, School Street, Theni, Tamil Nadu</p>
            <p><strong>ğŸ“ Phone:</strong> +91 98765 43210</p>
            <p><strong>âœ‰ Email:</strong> contact@schoolname.com</p>
        </div>

        <div class="contact-form-container" data-aos="fade-left">
            <h2>Send an Inquiry</h2>
            <form id="contact-form">
                <label for="name">Your Name:</label>
                <input type="text" id="name" required placeholder="Enter your name">
                
                <label for="email">Your Email:</label>
                <input type="email" id="email" required placeholder="Enter your email">

                <label for="message">Your Message:</label>
                <textarea id="message" rows="4" required placeholder="Type your message here"></textarea>

                <button type="submit" class="btn-submit">Send Message</button>
            </form>

            <p id="form-response"></p>
        </div>
    </section>

    <section class="map-container" data-aos="zoom-in">
        <h2>Find Us Here</h2>
        <iframe 
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3916.689389816635!2d77.99957871428726!3d11.244835292005108!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3ba96fc2c10b21e1%3A0x3e0b3b5e2c927ed9!2sVeerapandi%2C%20Tamil%20Nadu%20637102%2C%20India!5e0!3m2!1sen!2sin!4v1617305012336!5m2!1sen!2sin" 
            width="100%" height="350" style="border:0;" allowfullscreen="" loading="lazy">
        </iframe>
    </section>

    <div id="footer"></div>

    <script>
        fetch("../components/navbar.html").then(res => res.text()).then(data => document.getElementById("navbar").innerHTML = data);
        fetch("../components/footer.html").then(res => res.text()).then(data => document.getElementById("footer").innerHTML = data);

        AOS.init();

        document.getElementById("contact-form").addEventListener("submit", function(event) {
            event.preventDefault();
            
            const name = document.getElementById("name").value.trim();
            const email = document.getElementById("email").value.trim();
            const message = document.getElementById("message").value.trim();

            if (!name || !email || !message) {
                document.getElementById("form-response").innerText = "All fields are required!";
                return;
            }

            fetch("http://localhost:5000/api/contact", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ name, email, message })
            })
            .then(res => res.json())
            .then(data => {
                document.getElementById("form-response").innerText = data.message;
                document.getElementById("contact-form").reset();
            })
            .catch(err => console.log("Error:", err));
        });
    </script>
</body>
</html>
